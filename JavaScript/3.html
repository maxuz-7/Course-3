<html>
<body>
<table border=1 width=500>
<tr>
<td width=300>
<canvas id='draw1' width='300' height='300' style='border:1px solid'></canvas> 
</td>
<td width=200>
<form onsubmit="return false;" name="set1">
Наберите текст: <br>
<input type="text" onchange="chtext(this.value)"><br>
<fieldset>
<legend> Цвет
</legend>
Какой цвет: <br>
<input type="radio" name="ch" value="green" checked onchange="chcol(this.value)"> зелёный <br>
<input type="radio" name="ch" onchange="chcol('red')"> красный <br>
<input type="radio" onchange="chcol('blue')"> синий <br>
</fieldset>
<fieldset>
<legend> Направление
</legend>
Какой цвет: <br>
<input type="radio" name="ch1" checked onchange="chn(1)"> вперёд <br>
<input type="radio" name="ch1" value="red" onchange="chn(-1)"> назад <br>
</fieldset>
</form>
</td>
</tr>
</table>
<script type='text/javascript'>

// тут будут функции 

var canvas=document.getElementById("draw1")
var ctx=canvas.getContext("2d");
ctx.font="25px Arial"
ctx.fillStyle="red"
ctx.strokeStyle="green"
ctx.lineWidth=5
function chtext(l){
ctx.fillText(l,10, 100)
}
function chn(nn){
n=nn
}
function chcol(l){
ctx.strokeStyle=l
}


var x=150, y=30, dx=5, dy=0
var n=1

function drawline(){
ctx.beginPath()
ctx.moveTo(x, y)
x+=n*dx
y+=dy
ctx.lineTo(x, y)
ctx.stroke()
if((x<=canvas.width)&&(x>=0))
setTimeout(drawline, 200)
else ctx.fillText('done', 10, 150)
}
drawline()
</script> 
</body>
</html>
